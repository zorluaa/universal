local settings = getgenv().settings
if not settings or not settings.HBEEnabled then return end

local players = game:GetService("Players")
local runService = game:GetService("RunService")
local localPlayer = players.LocalPlayer

local function modifyHitboxes()
    for _, player in ipairs(players:GetPlayers()) do
        if player ~= localPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local rootPart = player.Character.HumanoidRootPart
            rootPart.Size = Vector3.new(settings.HBESize, settings.HBESize, settings.HBESize) -- Adjust size
            rootPart.Transparency = settings.HBETransparency -- Adjust transparency
            rootPart.Material = Enum.Material.Neon -- Set material to Neon for visibility
            rootPart.CanCollide = true
            rootPart.Color = settings.HBEColor -- Apply color from settings
        end
    end
end

-- Continuously apply modifications if enabled
runService.RenderStepped:Connect(function()
    if settings.HBEEnabled then
        modifyHitboxes()
    end
end)
